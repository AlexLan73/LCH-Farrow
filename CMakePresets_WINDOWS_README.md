# üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é CMake Presets –¥–ª—è Windows

## üéØ –û–±–∑–æ—Ä

–§–∞–π–ª [`CMakePresets.windows`](CMakePresets.windows) —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ LCH-Farrow –Ω–∞ Windows —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π OpenCL –∏ CUDA.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –°–±–æ—Ä–∫–∞ —Å OpenCL (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Å–±–æ—Ä–∫–∞ —Å OpenCL
cmake --preset windows-opencl
cmake --build --preset windows-opencl
```

### –°–±–æ—Ä–∫–∞ —Å CUDA

```bash
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Å–±–æ—Ä–∫–∞ —Å CUDA
cmake --preset windows-cuda
cmake --build --preset windows-cuda
```

### Debug —Å–±–æ—Ä–∫–∞

```bash
# Debug –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
cmake --preset windows-debug
cmake --build --preset windows-debug
```

## üîß –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–µ—Å–µ—Ç—ã

### Configure Presets
- **`windows-main`** - –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å OpenCL
- **`windows-cuda`** - CUDA –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- **`windows-opencl`** - OpenCL –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- **`windows-debug`** - Debug —Å–±–æ—Ä–∫–∞

### Build Presets
- **`windows-release`** - Release —Å–±–æ—Ä–∫–∞
- **`windows-cuda`** - CUDA —Å–±–æ—Ä–∫–∞
- **`windows-opencl`** - OpenCL —Å–±–æ—Ä–∫–∞
- **`windows-debug`** - Debug —Å–±–æ—Ä–∫–∞

## ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–±–æ—Ä–∫–∏

### OpenCL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- `ENABLE_OPENCL=ON` - –í–∫–ª—é—á–∏—Ç—å OpenCL –ø–æ–¥–¥–µ—Ä–∂–∫—É
- `CMAKE_BUILD_TYPE=Release` - –¢–∏–ø —Å–±–æ—Ä–∫–∏

### CUDA –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- `ENABLE_CUDA=ON` - –í–∫–ª—é—á–∏—Ç—å CUDA –ø–æ–¥–¥–µ—Ä–∂–∫—É
- `CUDA_ARCH="52;75;80"` - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã GPU
- `TYPE_GPU="RTX 2080ti"` - –¢–∏–ø GPU

## üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –î–ª—è OpenCL
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥—Ä–∞–π–≤–µ—Ä—ã GPU (NVIDIA/AMD)
- OpenCL SDK (–≤—Ö–æ–¥–∏—Ç –≤ CUDA Toolkit –∏–ª–∏ AMD APP SDK)

### –î–ª—è CUDA
- NVIDIA GPU —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CUDA
- CUDA Toolkit 11.0+
- Visual Studio 2022

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ GPU

#### NVIDIA
- **RTX 2080/2080ti** - CUDA_ARCH: 75
- **RTX 3060/3070/3080** - CUDA_ARCH: 86
- **A100** - CUDA_ARCH: 80

#### AMD
- **RX 5000/6000 —Å–µ—Ä–∏–∏** - OpenCL —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
- **Instinct —Å–µ—Ä–∏–∏** - OpenCL —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

## üéØ Best Practices

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ OpenCL –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
2. **–í—ã–±–∏—Ä–∞–π—Ç–µ CUDA —Ç–æ–ª—å–∫–æ –¥–ª—è NVIDIA** - –ª—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ NVIDIA
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Debug –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏** - –ø—Ä–æ—â–µ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Release –¥–ª—è production** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞

## üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–ª–∞–¥–∫–∏ –ø–æ F5

### –ü—Ä–æ–±–ª–µ–º–∞
–û—à–∏–±–∫–∞: `E:C++LCH-Farrow/build is not a directory`

### –†–µ—à–µ–Ω–∏–µ
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.vscode/launch.json` –∏ `.vscode/tasks.json`:

1. **launch.json** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø—É—Ç—å –∫ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–º—É —Ñ–∞–π–ª—É:
   ```json
   "program": "${workspaceFolder}/build/LCH-Farrow.exe"  // –±—ã–ª–æ: build/Debug/LCH-Farrow.exe
   "cwd": "${workspaceFolder}/build"  // –±—ã–ª–æ: ${workspaceFolder}
   ```

2. **tasks.json** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–±–æ—Ä–∫–∏:
   ```json
   "command": "cmake",  // –±—ã–ª–æ: bash
   "args": ["--build", "${workspaceFolder}/build", "--config", "Debug"]  // —É–±—Ä–∞–Ω–æ: -j$(nproc)
   ```

### –¢–µ–ø–µ—Ä—å F5 —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
1. –ù–∞–∂–º–∏—Ç–µ `F5` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –æ—Ç–ª–∞–¥–∫–∏
2. VSCode –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - –°–æ–±–µ—Ä—ë—Ç –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ CMake
   - –ó–∞–ø—É—Å—Ç–∏—Ç –æ—Ç–ª–∞–¥–∫—É —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø—É—Ç—ë–º
   - –û—Ç–∫—Ä–æ–µ—Ç –∫–æ–Ω—Å–æ–ª—å –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ build

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–±–æ—Ä–∫–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –Ω–∞–ª–∏—á–∏–∏ GPU –¥—Ä–∞–π–≤–µ—Ä–æ–≤
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏ CMake (—Ç—Ä–µ–±—É–µ—Ç—Å—è 3.20+)
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ `Doc/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
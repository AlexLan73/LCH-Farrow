# üìò README FINAL - –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ò –û–ë–ó–û–†

## –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–ò–°–¢–ï–ú–´

```
CPU (–ì–µ–Ω–µ—Ä–∞—Ü–∏—è):
  ‚îú‚îÄ GenerateBaseLFM()
  ‚îÇ  ‚îî‚îÄ –õ–ß–ú —Å–∏–≥–Ω–∞–ª –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫
  ‚îú‚îÄ ComputeDelay(angle)
  ‚îÇ  ‚îî‚îÄ –ì–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ œÑ(Œ∏)
  ‚îú‚îÄ InterpolateLagrange()
  ‚îÇ  ‚îî‚îÄ –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –¥—Ä–æ–±–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏ (–õ–∞–≥—Ä–∞–Ω–∂ 48-–≥–æ –ø–æ—Ä—è–¥–∫–∞)
  ‚îú‚îÄ –°–æ–ø—Ä—è–∂–µ–Ω–∏–µ conj()
  ‚îÇ  ‚îî‚îÄ –ì–æ—Ç–æ–≤–æ –¥–ª—è –≥–µ—Ç–µ—Ä–æ–¥–∏–Ω–∞
  ‚îî‚îÄ ExportToJSON()
     ‚îî‚îÄ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–ª—è GPU

GPU (–ì–µ—Ç–µ—Ä–æ–¥–∏–Ω):
  ‚îú‚îÄ –ü—Ä–∏—ë–º–Ω—ã–π —Å–∏–≥–Ω–∞–ª x[n]
  ‚îú‚îÄ –û–ø–æ—Ä–Ω—ã–π —Å–æ–ø—Ä—è–∂—ë–Ω–Ω—ã–π conj(ref[n])
  ‚îú‚îÄ y[n] = x[n] * conj(ref[n])
  ‚îú‚îÄ FFT(y[n])
  ‚îî‚îÄ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–µ–∫—Ç—Ä–∞
```

---

## –û–°–ù–û–í–ù–´–ï –ü–ê–†–ê–ú–ï–¢–†–´

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|----------|-----------|--------|
| `f_start`, `f_stop` | –î–∏–∞–ø–∞–∑–æ–Ω —á–∞—Å—Ç–æ—Ç –õ–ß–ú | 1 –ú–ì—Ü, 2 –ú–ì—Ü |
| `sample_rate` | –ß–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏ | 12 –ú–ì—Ü (–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞) |
| `num_samples` | –î–ª–∏–Ω–∞ —Å–∏–≥–Ω–∞–ª–∞ | 512 (2^9), 1024, 2048... |
| `angle_start_deg` | –ù–∞—á–∞–ª—å–Ω—ã–π —É–≥–æ–ª | -15¬∞ |
| `angle_stop_deg` | –ö–æ–Ω–µ—á–Ω—ã–π —É–≥–æ–ª | +15¬∞ |
| `angle_step_deg` | –®–∞–≥ –ø–æ —É–≥–ª—É | 0.5¬∞ (–º–æ–∂–µ—Ç –±—ã—Ç—å 0.125, 1.0...) |
| `antenna_element_idx` | –ò–Ω–¥–µ–∫—Å —ç–ª–µ–º–µ–Ω—Ç–∞ | 5 |
| `antenna_element_spacing_m` | –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ | Œª/2 ‚âà 100 –º |
| `lagrange_order` | –ü–æ—Ä—è–¥–æ–∫ –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏ | 48 |
| `lagrange_row` | –ü–æ–∑–∏—Ü–∏—è –≤ –æ–∫–Ω–µ –õ–∞–≥—Ä–∞–Ω–∂–∞ | 5 |

---

## –§–û–†–ú–£–õ–´

### –ó–∞–¥–µ—Ä–∂–∫–∞ –≥–µ–æ–º–µ—Ç—Ä–∏–∏
```
œÑ_k(Œ∏) = (k ¬∑ d ¬∑ sin(Œ∏) ¬∑ f_s) / c

–≥–¥–µ:
  k = antenna_element_idx
  d = antenna_element_spacing_m
  Œ∏ = —É–≥–æ–ª (—Ä–∞–¥–∏–∞–Ω—ã)
  f_s = sample_rate
  c = SPEED_OF_LIGHT
```

### –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏–≥–Ω–∞–ª–∞
```
duration = num_samples / sample_rate
```

### –ß–∏—Å–ª–æ –ª—É—á–µ–π (—É–≥–ª–æ–≤)
```
num_angles = (angle_stop_deg - angle_start_deg) / angle_step_deg + 1
```

### –õ–ß–ú —Å–∏–≥–Ω–∞–ª (–±–∞–∑–æ–≤—ã–π)
```
s[n] = exp(j¬∑œÜ[n])

–≥–¥–µ:
  œÜ[n] = 2œÄ(f_start¬∑t[n] + 0.5¬∑K¬∑t[n]¬≤)
  K = (f_stop - f_start) / duration
  t[n] = n / sample_rate
```

### –ì–µ—Ç–µ—Ä–æ–¥–∏–Ω
```
y[n] = x[n] √ó conj(ref[n])
```

---

## –ö–õ–ê–°–° LFMAngleArray

### –ß–ª–µ–Ω—Å–∫–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
```cpp
std::vector<std::vector<std::complex<float>>> m_signal_conjugate;
  // m_signal_conjugate[angle_idx][sample_idx]
  // –ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç ‚Äî –õ–ß–ú + –∑–∞–¥–µ—Ä–∂–∫–∞ + conj()
```

### –ü—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã
```cpp
void Generate();
  // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤—Å–µ —É–≥–ª—ã

std::string ExportToJSON() const;
  // –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ + —Å–∏–≥–Ω–∞–ª—ã –≤ JSON

size_t GetNumAngles() const;
size_t GetNumSamples() const;
```

### –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã
```cpp
float ComputeDelay(float angle_deg) const;
  // –†–∞—Å—á—ë—Ç –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏

std::vector<std::complex<float>> GenerateBaseLFM() const;
  // –ë–∞–∑–æ–≤—ã–π –õ–ß–ú –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫

std::complex<float> InterpolateLagrange(...) const;
  // –õ–∞–≥—Ä–∞–Ω–∂–µ–≤–∞ –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –¥—Ä–æ–±–Ω–æ–π —á–∞—Å—Ç–∏ –∑–∞–¥–µ—Ä–∂–∫–∏
```

---

## JSON –°–¢–†–£–ö–¢–£–†–ê

```json
{
  "metadata": {
    "num_angles": 61,
    "num_samples": 512,
    "angle_start_deg": -15.0,
    "angle_stop_deg": 15.0,
    "angle_step_deg": 0.5,
    "f_start_hz": 1000000,
    "f_stop_hz": 2000000,
    "sample_rate_hz": 12000000,
    "antenna_element_idx": 5,
    "antenna_element_spacing_m": 100.0,
    "lagrange_order": 48,
    "lagrange_row": 5
  },
  "reference_signals": [
    {
      "angle_deg": -15.0,
      "num_samples": 512,
      "data": {
        "real": [0.123, 0.456, ...],
        "imag": [0.789, 0.012, ...]
      }
    },
    { ... }
  ]
}
```

---

## –°–¶–ï–ù–ê–†–ò–ò –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å GPU
1. CPU –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤—Å–µ –æ–ø–æ—Ä–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã
2. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ JSON
3. GPU –∑–∞–≥—Ä—É–∂–∞–µ—Ç JSON
4. GPU –ø—Ä–∏–º–µ–Ω—è–µ—Ç –≥–µ—Ç–µ—Ä–æ–¥–∏–Ω: `y[n] = x[n] * conj(ref[n])`
5. GPU –≤—ã—á–∏—Å–ª—è–µ—Ç —Å–ø–µ–∫—Ç—Ä

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç
1. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –º–∞–ª–æ–µ —á–∏—Å–ª–æ —É–≥–ª–æ–≤ (-5..+5¬∞, —à–∞–≥ 1¬∞)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ Python
3. –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

---

## –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨

| –û–ø–µ—Ä–∞—Ü–∏—è | –í—Ä–µ–º—è |
|----------|-------|
| –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 61 –ª—É—á–∞ √ó 512 –æ—Ç—Å—á—ë—Ç–æ–≤ | <100 –º—Å |
| JSON —ç–∫—Å–ø–æ—Ä—Ç | <50 –º—Å |
| Total | <150 –º—Å |

---

## ‚úÖ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenCL Singleton Manager - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</title>
    <script type="text/javascript" src="https://gc.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=SQVrExPrVbbmHRCBr4AcF7CfzwlW9LAmYMhbxlTt943lkLHr0XNyVoNHHsD2Cd6ED7Q-nU6XD0w-ZyOoJwNItazEDPu6dfnePA6Lds4G4b0GIb_r4Ois8ZllMMmnWzWqprSfOS6sEHCg15c8nk9F-sqr28UJNxbQ_P1C-BJmQoFZUq6mcI6lJdyr9qgQp4cO7HHHlg4sEWviIigDDtViNIok-U6sqCAJOnMR3_wMNrVvkTUIoIgIqCZnrNGMQmCE4JpGEVC0ddMFZrjy_QfgbgXmfjGVGAy8lxngrnjhHmQjsor9erw5g4LHYszZbO2qYcZ36m2sB2Bs429Eem9ZDKq_D5DeEiI4ZlcYvPeCMIzZGbR2w1Cr2X8hfi5LPZON-RdEzZQq2115H_wHQK4DoMYXq045vekMXcMBQsrsi8w2v4QK_txP_cPw00wcJ0Wj3Va6CBiRlnIqTZvNbK4f2un9p8qn60ArerTl0DXJZHKHvvl1HnlkDxXbxzYXvfxhiaDGnRRwUTWk0egvYNylOo-XLBdbQCjl0TaAhgic_juHO7RZb7mvPnX-Yt1_ao71kPjHakHNwDGi8-KgPOMgCZK8rlM7zez2MN_9s0g0726CrJJXbtRlhIbM8u909gKifJyd3-a_6gogEcnKMKKB_v5R64j3wrkFq6s98LK10cwdRkwwkH3yoLG1rbJI_dob5KG2lUECrTEQRSo5s4iv7whNJ_SMYvjFHX6QnP7YjaUqF6wVfRMa_5FSdeN73JWAKHoSICoYFWV85YVmyAn-kQbveCjQE7ZVfkeyQnJvV64OaADEprHPJrKsJsOE1EySd0IAaBJOL4kSS9McEKGOqrcrvz1VheSqwWpqLWggoEYiHZdR36TtFw_TEjdROKolUeWHjuajHSsDe1RmhPv-nyotmfMhmCOllDkerj1OoNU-F3ShlGftYY7UfLYmbKsh26CaDO2CqVu2u5u-VmvorVM7EQ3yiS1HV0p6rezcijqC0XgOVnyTgy3kxbdChoVi27hdffdZPNyODJv0yoTenEC5zSIslv_RSSu9rQ295mhdrpuB8f75KLNPzy7kfzkfHzRHfjrDbvGYx4972v8yIKI0tI6drQi1NvReWt5l1XqT9xP2SgPRh38GLKbQDDYiuTL4gYGNDWZF9GaCiv4jy6-9Qu94_P3uDP8ZPws2ND-4OT4M9qRqR9EvDUykGIbfFRDED0jgXDjY-JZsCfbNOVqEsSpWnvPbe3KlIN4qlnr9E7UtMKkG7eMipgZ_dlFLulzdQLMD10kPm7w6IuuK0x9UDdUqLarQFUlY4RHrcMQzYf6H4cLTahWHU4N5vtNBjOmTS8-uiNiCSmuSfY3KLZcQveftxqC97rrWIYZfZqHg9g8CjX4bViuLJzXTQJ0yDFYCYHJoT4LrMezXEw6AM5TW-BBLDbQzA-773M_aouBCfHjUrUPraUY2pxvlEKklV8E0qvqMQOxhaShn41Djc5HsYrNHeczVRiQLk7W_Subi84EfHd1ebhCFpm6OXCWkoNx9ExEx1TAi7yV6yl6XP9uSgc_8Dczw5HymC7H6kmoyRR6pBzKj5wBrxS-8yu9MNBx-hN_VNjWeGZL-uPLVQe0Jr5UQQZB5kcgg5j4D3luyRjO2CKpo8hqstzKirhxSsj2SVISl8km-95e0JSreje3j6-opFC0TohTOlClorgFQ7Cry0TKJFRcx4C-gAVXMN0ixKldUs-1X8CwMsBTJITIar-8QqOF0hGSyOJMlprFV2ZMQ-c3_eD0zU5Ezpm0woXhAW3cahc4Md6UlLZbsGU0X6nSMfg-xK4SVKLXAo7SoWh9E_GfpV5YL7JvLYGBWgyW7B40w0oVHk98z3rLmLcKOWFQuDltmGFaZlCgzry9Uipc8BFFg9iDL-gPBEjjxzGAsSwpOI6pzgliAB23C1GJR3SLWqdyNd5x3JWF--EIDNI4w3KB-HQ2_pL1RhiiCEFxTgNzpaWoqoocfyQSwsSYmsUNMiWI-rbvjJu-BzIXzK_CKbIi6xilRxUcxLPekgnKwOpF7O7HB6Ywhj5ANzHR8SeqomA-qBmoRq2rsSDNGo1vp5S0EP_D5529goKwJf5D5-vpGP5TkASWUkVGZvR1Svs52YWvdlWT_HhRbsPewvEVJGe9DIF_Wj6WPo0zvAvCaYCF6hWG6-rIQAX6H4zTH32pwft8i3fysgeAy752cGSJYUzsQ8Kex52e6RntKNaOEa72uy0u24SAQ93Zfl5PSK4IlsynRwhIl7oxszqMf1GU0DYzUBw2QoNGZMj9UqREsemZBCccnx1ZmZ24mELAl_qZaeNinaHNvm2mn-R4" charset="UTF-8"></script><link rel="stylesheet" crossorigin="anonymous" href="https://gc.kis.v2.scr.kaspersky-labs.com/E3E8934C-235A-4B0E-825A-35A08381A191/abn/main.css?attr=aHR0cHM6Ly9wcGwtYWktY29kZS1pbnRlcnByZXRlci1maWxlcy5zMy5hbWF6b25hd3MuY29tL3dlYi9kaXJlY3QtZmlsZXMvN2VlMmYxZTJlMzc3ZTUyZDcyMTE4ZWVjYzY4ZTg4YzIvZTU0YzlkMjktMGM5Yy00MTQ3LTlmNTMtZTExZjBjYzMzZTNjL2NhbnZhcy1hcHAvaW5kZXguaHRtbD9yZXNwb25zZS1jb250ZW50LWRpc3Bvc2l0aW9uPWF0dGFjaG1lbnQlM2IlMjBmaWxlbmFtZSUzZE9wZW5DTCUyMFNpbmdsZXRvbiUyME1hbmFnZXIuaHRtbCUzYiUyMGZpbGVuYW1lJTJhJTNkVVRGLTglMjclMjdPcGVuQ0wlMjUyMFNpbmdsZXRvbiUyNTIwTWFuYWdlci5odG1sJkFXU0FjY2Vzc0tleUlkPUFTSUEyRjNFTUVZRTZLUjRaWE9LJlNpZ25hdHVyZT1rY0NJaTR0RU1mb0FtQXA1UmtIODBwZ2VOTnMlM2QmeC1hbXotc2VjdXJpdHktdG9rZW49SVFvSmIzSnBaMmx1WDJWakVDa2FDWFZ6TFdWaGMzUXRNU0pHTUVRQ0lFVkpjR0t6cjBCYjZDbEd6YldZWDlhSkFDSllzd3R2eSUyZlF5YzB0QmZiNnRBaUJZTFUya29TMEV4QzQ1U3hjVUxwSDFtQWJtRG5qTmUwRktwT0RrMk9EZXp5cjhCQWp5JTJmJTJmJTJmJTJmJTJmJTJmJTJmJTJmJTJmJTJmOEJFQUVhRERZNU9UYzFNek13T1Rjd05TSU1uZGp6dEo3NllMeWswR3BnS3RBRVQyYlVMdlNMNGtRSmRuWjJwVGlORW5SSjdYdEp1VXpYNyUyZmhRUFZma0ZGa1k1a0tEaDRuWUR3Y25XTUMlMmI5TDJmZGVkVXk1c3lTVmFwdnFxN0lsWGt1MHh0SDJ1cWI2dWNCTGhGdFNBWFhMUXFDdW5YQ3ZkYTluS2UlMmJrdTQxTWJwamxjOXdXJTJmakRvMzhUWW84MkFRdG1LWXFwNXdMUzQlMmYyVzhOaVB1RUY3MG1vVWdVZ0w5dkdBaFA0JTJmJTJmVXJkbVZzbGhUNW5mam9HcVZzQTZoM1FZSFZLYkxpYjhKM1hsaWxHZVF4WWJrZVAycWxrQnUwN2F1YWo3clpHbG5oUzMyeGFXZ2Q3SW5wWkxHaDFxcnNmUlludWFuRnhpSzFpRDhkUDJSZjBCSGFJUktKdEUxSE1JMHJVSGk0dmJMZEVsWlBIZmNuYzVBcjlaQ0glMmJwZ1ZDRkEzd21qJTJiMW5RNlFuTjY2Rk1RY29xY3Fsa0ZKVkFhQSUyZlRBQjVPQjlTOGhIRno3Y2p3WCUyZkNXSTVNJTJiTkFLYnFJbFdjeFNkJTJmYUlJTVRCd2JDbmVWVDRwWW9NZHNucG83UCUyYnh6Zjdua0NqUjFJeXJsayUyZjFrcHVKdU9aamJxeTA4Y1g5NVUlMmIlMmJHbE1oa2NRWE95NDNpZDlROG5vMUtyTzNnUlB1JTJmeXI2cnJnNnB3NGI3OGVtbG9uZXZkQkJoZmp0Z0FVV2dUa2tKYWJzU1lmdmloZlg4RlJ6dldPNHZYdklSSkZ4ZllCZXBzMnBKcDlzdVUlMmZNYWhKU2ptQWh2bXd0eXp3SHJyVG5YZHN1WCUyYkFBazQ3THpFanRjUDI1eFdkMzZWcWJwOXpWM0hPJTJmZTZvemp5VnVWVFJibDk3ZHBNTmU0bmphWXRCd1VvWSUyZkxjZFYyYXZxdHJqU2MzUyUyYjc3eHQ5T1JvdVdvZk9XbWN3V243OTRQR3hOZ1Njb1doaVYyZlpyM1RNUEtKZDNoN0ltVzc5RVA2UFQ1NHdVS0tVUGFJN3Vlb3p5Z0NYWjBRcVE5RGxma0Z6Qm5oaFdsMnZnM1RMcDBIZUtURE55NVRMQmpxWkFWWXQ3ZVBrZVhyYzl0dktLVGd1Y2dhaUNEWVMyJTJmNUpxNkZ1elhmTFlacXl2akw0RnFiQ3clMmJLT0xKOTdTZklhS202ZTZCajVCJTJmMFMwcldEbWJ4SHNrbk4wbUZsdEZPZU5BTnhFVkJ2aGNDd1NZRHdDTyUyYnJ3JTJmSDZJOTllVlRvZ3pQbHpPRiUyYjRFTHFJSUpDS0YyVlJLUlkxa1clMmZXMW0lMmZaJTJiRkdKdlpqRkFKV3JWZDFOQ2JvUSUyYkZhbkcxNUdQMTVVdklmQllvTlhjeTZnRlElM2QlM2QmRXhwaXJlcz0xNzY4MjM5NjM3"/><style>
        :root {
            --color-bg-primary: #0f1419;
            --color-surface: #1a1f26;
            --color-text-primary: #e1e8ed;
            --color-primary: #00d9ff;
            --color-success: #00ff88;
            --color-warning: #ffaa00;
            --color-error: #ff3333;
            --color-border: #2a3842;
        }
        
        * { box-sizing: border-box; }
        body {
            margin: 0;
            padding: 20px;
            font-family: 'Monaco', 'Menlo', monospace;
            background: var(--color-bg-primary);
            color: var(--color-text-primary);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        h1 { color: var(--color-primary); margin: 0 0 10px 0; }
        h2 { color: var(--color-success); margin: 20px 0 10px 0; font-size: 18px; }
        h3 { color: var(--color-warning); margin: 15px 0 8px 0; font-size: 16px; }
        
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .card {
            background: var(--color-surface);
            border: 1px solid var(--color-border);
            border-radius: 8px;
            padding: 16px;
        }
        
        .card.full { grid-column: 1 / -1; }
        .card.success { border-left: 4px solid var(--color-success); }
        .card.error { border-left: 4px solid var(--color-error); }
        
        code {
            background: rgba(0, 217, 255, 0.1);
            padding: 2px 6px;
            border-radius: 3px;
            color: var(--color-primary);
            font-size: 13px;
        }
        
        .code-block {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--color-border);
            border-radius: 6px;
            padding: 12px;
            margin: 10px 0;
            overflow-x: auto;
            font-size: 12px;
        }
        
        .code-block code {
            background: none;
            padding: 0;
            color: #888;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
            font-size: 13px;
        }
        
        th, td {
            padding: 8px 12px;
            text-align: left;
            border-bottom: 1px solid var(--color-border);
        }
        
        th {
            background: rgba(0, 217, 255, 0.1);
            color: var(--color-primary);
            font-weight: 600;
        }
        
        .badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 11px;
            font-weight: 600;
            margin-right: 5px;
        }
        
        .badge.success { background: rgba(0, 255, 136, 0.2); color: var(--color-success); }
        .badge.warning { background: rgba(255, 170, 0, 0.2); color: var(--color-warning); }
        .badge.error { background: rgba(255, 51, 51, 0.2); color: var(--color-error); }
        
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 15px 0;
        }
        
        .comparison > div {
            padding: 12px;
            border-radius: 6px;
            border: 1px solid var(--color-border);
        }
        
        .comparison .before {
            border-left: 4px solid var(--color-error);
            background: rgba(255, 51, 51, 0.05);
        }
        
        .comparison .after {
            border-left: 4px solid var(--color-success);
            background: rgba(0, 255, 136, 0.05);
        }
        
        .comparison h4 {
            margin: 0 0 8px 0;
            font-size: 13px;
            font-weight: 600;
        }
        
        .comparison code {
            display: block;
            margin: 3px 0;
        }
        
        .architecture {
            background: rgba(0, 217, 255, 0.05);
            border: 1px solid var(--color-primary);
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
            font-size: 13px;
        }
        
        .architecture code { color: var(--color-primary); }
        
        .checklist {
            list-style: none;
            padding: 0;
            margin: 10px 0;
        }
        
        .checklist li {
            padding: 6px 0;
            padding-left: 25px;
            position: relative;
        }
        
        .checklist li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: var(--color-success);
            font-weight: bold;
        }
        
        .checklist li.pending:before {
            content: "‚óã";
            color: var(--color-warning);
        }
        
        .checklist li.error:before {
            content: "‚úó";
            color: var(--color-error);
        }
        
        .performance {
            background: rgba(255, 170, 0, 0.05);
            border: 1px solid var(--color-warning);
            border-radius: 6px;
            padding: 12px;
            margin: 10px 0;
            font-size: 13px;
        }
        
        .tabs {
            display: flex;
            gap: 10px;
            margin: 15px 0 10px 0;
            border-bottom: 1px solid var(--color-border);
        }
        
        .tab-button {
            padding: 8px 16px;
            background: none;
            border: none;
            border-bottom: 2px solid transparent;
            color: var(--color-text-primary);
            cursor: pointer;
            font-family: inherit;
            font-size: 13px;
            transition: all 200ms;
        }
        
        .tab-button.active {
            border-bottom-color: var(--color-primary);
            color: var(--color-primary);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .file-list {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 6px;
            padding: 12px;
            margin: 10px 0;
        }
        
        .file-item {
            padding: 8px;
            margin: 5px 0;
            background: rgba(0, 217, 255, 0.05);
            border-left: 3px solid var(--color-primary);
            border-radius: 3px;
            font-size: 13px;
        }
        
        .file-item code {
            background: none;
            color: var(--color-primary);
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid var(--color-border);
            text-align: center;
            color: #666;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ OpenCL Singleton Manager</h1>
        <p><em>–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ OpenCL –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–∞—Ö</em></p>
        
        <!-- ARCHITECTURE OVERVIEW -->
        <div class="card full success">
            <h2>‚ú® –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è</h2>
            <p><strong>OpenCL –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è (100-200 –º—Å)</strong></p>
            <p>–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å OpenCL –í–ù–£–¢–†–ò –∫–∞–∂–¥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ GeneratorGPU:</p>
            <ul class="checklist">
                <li>–°–æ–∑–¥–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π <code>OpenCLManager</code> (Singleton)</li>
                <li>–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º OpenCL –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ</li>
                <li>–í—Å–µ –æ–±—ä–µ–∫—Ç—ã –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç/–æ—á–µ—Ä–µ–¥—å</li>
                <li>Program cache –∏–∑–±–µ–≥–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö kernels</li>
            </ul>
        </div>
        
        <!-- BEFORE/AFTER -->
        <div class="card full">
            <h2>üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –î–û vs –ü–û–°–õ–ï</h2>
            <div class="comparison">
                <div class="before">
                    <h4>‚ùå –î–û (–ü—Ä–æ–±–ª–µ–º—ã)</h4>
                    <code>GeneratorGPU gen1(params)</code>
                    <code style="color: #ff6b6b;">‚Üí Init OpenCL (200 –º—Å)</code>
                    <code>GeneratorGPU gen2(params)</code>
                    <code style="color: #ff6b6b;">‚Üí Init OpenCL (200 –º—Å) ‚ùå</code>
                    <code>GeneratorGPU gen3(params)</code>
                    <code style="color: #ff6b6b;">‚Üí Init OpenCL (200 –º—Å) ‚ùå</code>
                    <code style="margin-top: 5px; color: var(--color-error);">–ò–¢–û–ì–û: 600 –º—Å</code>
                </div>
                <div class="after">
                    <h4>‚úÖ –ü–û–°–õ–ï (–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)</h4>
                    <code>OpenCLManager::Initialize()</code>
                    <code style="color: #4ecca3;">‚Üí Init OpenCL (200 –º—Å)</code>
                    <code>GeneratorGPU gen1(params)</code>
                    <code style="color: #4ecca3;">‚Üí Get context (0 –º—Å) ‚úÖ</code>
                    <code>GeneratorGPU gen2(params)</code>
                    <code style="color: #4ecca3;">‚Üí Get context (0 –º—Å) ‚úÖ</code>
                    <code style="margin-top: 5px; color: var(--color-success);">–ò–¢–û–ì–û: 220 –º—Å (2.7x FASTER!)</code>
                </div>
            </div>
        </div>
        
        <!-- ARCHITECTURE DIAGRAM -->
        <div class="card full">
            <h2>üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</h2>
            <div class="architecture">
<pre><code>OpenCLManager (Singleton)
‚îú‚îÄ platform_id        [–û–î–ò–ù –Ω–∞ –≤—Å–µ—Ö]
‚îú‚îÄ device_id          [–û–î–ò–ù –Ω–∞ –≤—Å–µ—Ö]  
‚îú‚îÄ context            [–û–î–ò–ù –Ω–∞ –≤—Å–µ—Ö]
‚îú‚îÄ queue              [–û–î–ò–ù –Ω–∞ –≤—Å–µ—Ö]
‚îî‚îÄ program_cache      [KEY: hash(source) ‚Üí cl_program]
       ‚îú‚îÄ source_hash_1 ‚Üí program_1
       ‚îú‚îÄ source_hash_2 ‚Üí program_2
       ‚îî‚îÄ source_hash_n ‚Üí program_n

        ‚Üì (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)

GeneratorGPU #1 ‚îÄ‚îÄ‚îê
GeneratorGPU #2 ‚îÄ‚îÄ‚îº‚îÄ‚îÄ> OpenCLManager::GetInstance()
GeneratorGPU #3 ‚îÄ‚îÄ‚îò
FFTProcessor   ‚îÄ‚îÄ‚îò
OtherGPUClass  ‚îÄ‚îÄ‚îò</code></pre>
            </div>
        </div>
        
        <!-- FILES TO CREATE -->
        <div class="card full">
            <h2>üìÅ –§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è</h2>
            <div class="file-list">
                <div class="file-item">
                    <strong>1. opencl_manager.h</strong> (~250 —Å—Ç—Ä–æ–∫)
                    <p style="margin: 3px 0; color: #999;">Singleton class —Å public API, program_cache type</p>
                </div>
                <div class="file-item">
                    <strong>2. opencl_manager.cpp</strong> (~350 —Å—Ç—Ä–æ–∫)
                    <p style="margin: 3px 0; color: #999;">GetInstance(), Initialize(), GetOrCompileProgram() —Å –∫—ç—à–µ–º</p>
                </div>
                <div class="file-item">
                    <strong>3. generator_gpu_refactored.h</strong> (~200 —Å—Ç—Ä–æ–∫)
                    <p style="margin: 3px 0; color: #999;">–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π GeneratorGPU —Å —Å—Å—ã–ª–∫–æ–π –Ω–∞ Manager</p>
                </div>
                <div class="file-item">
                    <strong>4. generator_gpu_refactored.cpp</strong> (~300 —Å—Ç—Ä–æ–∫)
                    <p style="margin: 3px 0; color: #999;">–ü–µ—Ä–µ–ø–∏—Å–∞–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∫–æ–º–ø–∏–ª—è—Ü–∏—è kernels</p>
                </div>
                <div class="file-item">
                    <strong>5. example_opencl_singleton.cpp</strong> (~150 —Å—Ç—Ä–æ–∫)
                    <p style="margin: 3px 0; color: #999;">–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤</p>
                </div>
            </div>
        </div>
        
        <!-- API SPECIFICATION -->
        <div class="card full">
            <h2>üîå OpenCLManager API</h2>
            
            <h3>–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:</h3>
            <table>
                <thead>
                    <tr>
                        <th>–ú–µ—Ç–æ–¥</th>
                        <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                        <th>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>GetInstance()</code></td>
                        <td>–ü–æ–ª—É—á–∏—Ç—å Singleton –æ–±—ä–µ–∫—Ç</td>
                        <td><code>auto& mgr = OpenCLManager::GetInstance();</code></td>
                    </tr>
                    <tr>
                        <td><code>Initialize(device_type)</code></td>
                        <td>–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å OpenCL (one-time)</td>
                        <td><code>OpenCLManager::Initialize(CL_DEVICE_TYPE_GPU);</code></td>
                    </tr>
                    <tr>
                        <td><code>GetContext()</code></td>
                        <td>–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç OpenCL</td>
                        <td><code>cl_context ctx = mgr.GetContext();</code></td>
                    </tr>
                    <tr>
                        <td><code>GetQueue()</code></td>
                        <td>–ü–æ–ª—É—á–∏—Ç—å –æ—á–µ—Ä–µ–¥—å –∫–æ–º–∞–Ω–¥</td>
                        <td><code>cl_command_queue q = mgr.GetQueue();</code></td>
                    </tr>
                    <tr>
                        <td><code>GetDevice()</code></td>
                        <td>–ü–æ–ª—É—á–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (device)</td>
                        <td><code>cl_device_id dev = mgr.GetDevice();</code></td>
                    </tr>
                    <tr>
                        <td><code>GetPlatform()</code></td>
                        <td>–ü–æ–ª—É—á–∏—Ç—å –ø–ª–∞—Ç—Ñ–æ—Ä–º—É (platform)</td>
                        <td><code>cl_platform_id plat = mgr.GetPlatform();</code></td>
                    </tr>
                    <tr>
                        <td><code>GetOrCompileProgram(source)</code></td>
                        <td>–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É (—Å –∫—ç—à–µ–º)</td>
                        <td><code>auto prog = mgr.GetOrCompileProgram(kernel_src);</code></td>
                    </tr>
                    <tr>
                        <td><code>GetDeviceInfo()</code></td>
                        <td>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ</td>
                        <td><code>std::string info = mgr.GetDeviceInfo();</code></td>
                    </tr>
                    <tr>
                        <td><code>Cleanup()</code></td>
                        <td>–û—á–∏—Å—Ç–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã</td>
                        <td><code>OpenCLManager::Cleanup();</code></td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <!-- REFACTORING PLAN -->
        <div class="card full">
            <h2>üîß –ü–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ GeneratorGPU</h2>
            
            <h3>–ß—Ç–æ –£–î–ê–õ–ò–¢–¨ –∏–∑ GeneratorGPU:</h3>
            <ul class="checklist">
                <li><code>cl_platform_id platform_</code> ‚Üí –≤ OpenCLManager</li>
                <li><code>cl_device_id device_</code> ‚Üí –≤ OpenCLManager</li>
                <li><code>cl_context context_</code> ‚Üí –±–µ—Ä–µ–º –∏–∑ Manager</li>
                <li><code>cl_command_queue queue_</code> ‚Üí –±–µ—Ä–µ–º –∏–∑ Manager</li>
                <li><code>InitializeOpenCL()</code> ‚Üí –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å (–≤—ã–∑–æ–≤ Manager)</li>
                <li>–î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä: –Ω–µ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ–º context/queue (Manager —ç—Ç–æ –¥–µ–ª–∞–µ—Ç)</li>
            </ul>
            
            <h3>–ß—Ç–æ –î–û–ë–ê–í–ò–¢–¨ –≤ GeneratorGPU:</h3>
            <ul class="checklist">
                <li><code>OpenCLManager& manager_</code> ‚Üí —Å—Å—ã–ª–∫–∞ –Ω–∞ Singleton</li>
                <li><code>context_</code> ‚Üí –ª–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–ø–∏—è (–¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞)</li>
                <li><code>queue_</code> ‚Üí –ª–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–ø–∏—è (–¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞)</li>
                <li><code>CompileKernels()</code> ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Manager::GetOrCompileProgram()</li>
            </ul>
        </div>
        
        <!-- PERFORMANCE IMPACT -->
        <div class="card full">
            <h2>üìà –û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h2>
            
            <h3>–í—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (3x GeneratorGPU):</h3>
            <div class="performance">
                <strong>–î–û:</strong> 200 + 200 + 200 = <span style="color: var(--color-error);">600 –º—Å</span><br>
                <strong>–ü–û–°–õ–ï:</strong> 200 (Manager) + 0 + 0 = <span style="color: var(--color-success);">200 –º—Å</span><br>
                <strong>–£—Å–∫–æ—Ä–µ–Ω–∏–µ:</strong> <span style="color: var(--color-success);">3x FASTER! üöÄ</span>
            </div>
            
            <h3>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:</h3>
            <div class="performance">
                <strong>–î–û:</strong> 3 √ó 50 MB (3 contexts) = <span style="color: var(--color-error);">150 MB</span><br>
                <strong>–ü–û–°–õ–ï:</strong> 1 √ó 50 MB (1 context) = <span style="color: var(--color-success);">50 MB</span><br>
                <strong>–≠–∫–æ–Ω–æ–º–∏—è:</strong> <span style="color: var(--color-success);">200 MB! üéâ</span>
            </div>
            
            <h3>Program cache —ç—Ñ—Ñ–µ–∫—Ç:</h3>
            <div class="performance">
                <strong>–°—Ü–µ–Ω–∞—Ä–∏–π:</strong> 10x GeneratorGPU —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ kernels<br>
                <strong>–î–û:</strong> 10x –∫–æ–º–ø–∏–ª—è—Ü–∏—è (10 √ó 50 –º—Å) = 500 –º—Å<br>
                <strong>–ü–û–°–õ–ï:</strong> 1x –∫–æ–º–ø–∏–ª—è—Ü–∏—è + 9x cache (50 + 0 –º—Å) = 50 –º—Å<br>
                <strong>–£—Å–∫–æ—Ä–µ–Ω–∏–µ:</strong> <span style="color: var(--color-success);">10x FASTER! ‚ö°</span>
            </div>
        </div>
        
        <!-- USAGE EXAMPLE -->
        <div class="card full">
            <h2>üí° –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h2>
            
            <h3>–í main.cpp:</h3>
            <div class="code-block">
<pre><code>#include "opencl_manager.h"
#include "generator_gpu.h"

int main() {
    // 1Ô∏è‚É£ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (ONE-TIME)
    OpenCLManager::Initialize(CL_DEVICE_TYPE_GPU);
    
    // 2Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É—é—Ç –û–î–ò–ù –∫–æ–Ω—Ç–µ–∫—Å—Ç)
    LFMParameters params1{...};
    GeneratorGPU gen1(params1);
    
    LFMParameters params2{...};
    GeneratorGPU gen2(params2);  // –ü–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç!
    
    // 3Ô∏è‚É£ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤
    cl_mem signal1 = gen1.signal_base();
    cl_mem signal2 = gen2.signal_base();
    
    // 4Ô∏è‚É£ –î–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
    auto& mgr = OpenCLManager::GetInstance();
    cl_context ctx = mgr.GetContext();
    
    return 0;
}</code></pre>
            </div>
        </div>
        
        <!-- MIGRATION GUIDE -->
        <div class="card full">
            <h2>üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞</h2>
            
            <h3>–î–û:</h3>
            <div class="code-block">
<pre><code>GeneratorGPU gen(params);  // InitializeOpenCL() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏
cl_mem output = gen.signal_base();</code></pre>
            </div>
            
            <h3>–ü–û–°–õ–ï:</h3>
            <div class="code-block">
<pre><code>OpenCLManager::Initialize();  // –æ–¥–∏–Ω —Ä–∞–∑ –≤ main()
GeneratorGPU gen(params);      // –±–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
cl_mem output = gen.signal_base();</code></pre>
            </div>
            
            <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç:</h3>
            <ul class="checklist">
                <li>–ö–æ–¥ –≤—ã–≥–ª—è–¥–∏—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ (–¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)</li>
                <li>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–ª—É—á—à–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</li>
                <li>–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ GPU –∫–ª–∞—Å—Å—ã (FFT, etc)</li>
            </ul>
        </div>
        
        <!-- NEXT STEPS -->
        <div class="card full error">
            <h2>‚ö° –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏</h2>
            <ol style="margin: 10px 0; padding-left: 20px;">
                <li>–°–æ–∑–¥–∞—Ç—å <code>opencl_manager.h</code></li>
                <li>–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å <code>opencl_manager.cpp</code></li>
                <li>–û–±–Ω–æ–≤–∏—Ç—å <code>generator_gpu.h/cpp</code></li>
                <li>–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</li>
                <li>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ GPU</li>
            </ol>
        </div>
        
        <div class="footer">
            <p>OpenCL Singleton Architecture Design | Sequential Thinking Analysis</p>
            <p>–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ production –∫–æ–¥</p>
        </div>
    </div>
</body>
</html>
